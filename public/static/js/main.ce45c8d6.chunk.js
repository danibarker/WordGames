(this.webpackJsonpgames=this.webpackJsonpgames||[]).push([[0],{40:function(n,e,t){},41:function(n,e,t){},53:function(n,e,t){"use strict";t.r(e);var r=t(1),i=t(0),a=t.n(i),c=t(18),o=t.n(c),s=(t(40),t(32)),u=t(3),d=(t(41),t(10)),l=t(16),h=t(4),b=t(5);function p(){var n=Object(h.a)([""]);return p=function(){return n},n}function f(){var n=Object(h.a)(["\n        @media only screen and (min-width: 701px) {\n            position: absolute;\n            text-align: center;\n            width: 100%;\n            h1 {\n                font-size: 100px;\n            }\n        }\n        @media only screen and (max-width: 700px) {\n            position: absolute;\n        }\n    "]);return f=function(){return n},n}function x(){var n=Object(h.a)(["\n        @media only screen and (min-width: 701px) {\n            padding-left: 10px;\n            height: 50px;\n            font-size: 20px;\n            width: 90%;\n        }\n        @media only screen and (max-width: 700px) {\n            height: 50px;\n            width: 100%;\n        }\n    "]);return x=function(){return n},n}function m(){var n=Object(h.a)(["\n        @media only screen and (max-height: 450px) {\n            position: absolute;\n            top: -1000px;\n            width: 100%;\n        }\n        @media only screen and (min-width: 701px) {\n            margin: 10px 0 10px 0;\n            width:90%;\n        }\n        @media only screen and (max-width: 700px) {\n            height: 50px;\n            margin-bottom: 20px;\n            width:100%;\n        }\n    "]);return m=function(){return n},n}function j(){var n=Object(h.a)(["\n        @media only screen and (min-width: 701px) {\n            height: 50px;\n            font-size: 15px;\n        }\n    "]);return j=function(){return n},n}function g(){var n=Object(h.a)([""]);return g=function(){return n},n}function O(){var n=Object(h.a)(["\n        max-height: 100%;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n\n        @media only screen and (min-width: 701px) {\n            width:25vw;\n            margin-left: 20px;\n            margin-right: 20px;\n        }\n        @media only screen and (max-width: 700px) {\n            width: 100%;\n            height: 30vh;\n            text-align: center;\n            display: unset;\n        }\n    "]);return O=function(){return n},n}function y(){var n=Object(h.a)(["\n        \n        @media only screen and (min-width: 701px) {\n            width:35vw;\n            margin-left: 20px;\n            margin-right: 20px;\n        }\n        @media only screen and (max-width: 700px) {\n            width: 100%;\n            height: 40vh;\n            min-height: 100px;\n            text-align: center;\n        }\n    "]);return y=function(){return n},n}function v(){var n=Object(h.a)(["\n        top: 40vh;\n        width: 100%;\n        z-index: 3;\n        position: absolute;\n        height: 100%;\n        text-align: center;\n\n        @media only screen and (max-width: 700px) {\n            input {\n                width: 100%;\n                height: 50px;\n            }\n            button {\n                width: 100%;\n                height: 50px;\n            }\n        }\n    "]);return v=function(){return n},n}function w(){var n=Object(h.a)(["\n        z-index: 3;\n        position: absolute;\n        bottom: 20px;\n        left: 20px;\n\n   \n        @media only screen and (max-width: 700px) {\n            bottom: 0%;\n            button {\n                height: 50px;\n                margin-bottom: 5px;\n            }\n        }\n    "]);return w=function(){return n},n}function k(){var n=Object(h.a)(["\n        display: flex;\n        height: 100%;\n\n        @media only screen and (max-width: 700px) {\n            display: flex;\n            justify-content: space-between;\n            height: 100%;\n            width: 100%;\n\n            flex-direction: column;\n        }\n    "]);return k=function(){return n},n}function S(){var n=Object(h.a)([""]);return S=function(){return n},n}function T(){var n=Object(h.a)(["\n        height: 90%;\n        overflow-y: auto;\n        ::-webkit-scrollbar {\n            width: 10px;\n        }\n        ::-webkit-scrollbar-track {\n            box-shadow: inset 0 0 5px grey;\n            background: #222;\n        }\n        ::-webkit-scrollbar-thumb {\n            background-image: linear-gradient(\n                to right,\n                #222,\n                hsl(272, 36%, 63%)\n            );\n            border-radius: 50px;\n            width: 5px;\n        }\n        ::-webkit-scrollbar-thumb:hover {\n            background: #555;\n        }\n        @media only screen and (max-width: 700px) {\n            height: 100%;\n            overflow-y: auto;\n        }\n        @media only screen and (min-width: 700px) {\n            \n            width:25vw;\n            overflow-y: auto;\n        }\n    "]);return T=function(){return n},n}function G(){var n=Object(h.a)(["\n        margin-bottom:100px;\n        @media only screen and (max-height: 600px) {\n            position: absolute;\n            top: -1000px;\n        }\n        @media only screen and (min-width: 701px) {\n            width:30vw;\n            margin-left: 20px;\n            margin-right: 20px;\n        }\n        @media only screen and (max-width: 700px) {\n            \n            text-align: center;\n            width: 100%;\n            height: 15vh;\n            overflow-y: auto;\n\n            &::-webkit-scrollbar {\n                width: 12px;\n            }\n\n            &::-webkit-scrollbar-track {\n                -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n                box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n                border-radius: 10px;\n            }\n\n            &::-webkit-scrollbar-thumb {\n                border-radius: 10px;\n                -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.5);\n                box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.5);\n            }\n        }\n    "]);return G=function(){return n},n}var E={PlayersDiv:b.a.div(G()),GuessDiv:b.a.div(T()),CurrentWord:b.a.h3(S()),Main:b.a.div(k()),Logout:b.a.div(w()),Login:b.a.div(v()),Game:b.a.div(y()),RightPanel:b.a.div(O()),OnTurn:b.a.div(g()),NameInput:b.a.input(j()),GuessButton:b.a.button(m()),GuessInput:b.a.input(x()),Title:b.a.div(f()),Guessed:b.a.tbody(p())},C=(t(47),t(22)),N=t(23),A=function(){function n(e,t){Object(C.a)(this,n),this.callback=e,this.timerCalc=t,this.timer=null,this.tries=0}return Object(N.a)(n,[{key:"reset",value:function(){this.tries=0,clearTimeout(this.timer)}},{key:"scheduleTimeout",value:function(){var n=this;clearTimeout(this.timer),this.timer=setTimeout((function(){n.tries=n.tries+1,n.callback()}),this.timerCalc(this.tries+1))}}]),n}(),I=function(){function n(e,t){var r=this;Object(C.a)(this,n),this.customSocket=null,this.socketUrl=e,this.reconnectTimer=new A((function(){r.disconnect(),r.connect()}),this.reconnectAfterMs),this.messageFunction=t}return Object(N.a)(n,[{key:"reconnectAfterMs",value:function(n){return[1e3,2e3,5e3,1e4][n-1]||1e4}},{key:"connect",value:function(){var n=this;this.customSocket=new WebSocket(this.socketUrl),this.customSocket.onopen=function(e){console.log("connected to "+n.socketUrl)},this.customSocket.onclose=function(e){n.reconnectTimer.scheduleTimeout()},this.customSocket.onerror=function(n){},this.customSocket.onmessage=this.messageFunction}},{key:"disconnect",value:function(){this.customSocket.onclose=function(){},this.customSocket.close()}},{key:"send",value:function(n){this.customSocket.send(n)}}]),n}(),L=t(9),U=t.n(L),F=t(14),R=function(n){return function(){var e=Object(F.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"GET_GAME_STATE",payload:n});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()};function J(){var n=Object(h.a)(["\n    border-radius: ","%;\n    width: 45px;\n    height: 45px;\n    position: absolute;\n    border-style: solid;\n    z-index: 5;\n    right: 0;\n    top: ","%;\n    visibility: ",";\n    @media only screen and (min-width:700px){\n        visibility:hidden;\n    }\n"]);return J=function(){return n},n}function M(){var n=Object(h.a)(["\n    bottom: 0;\n\n    position: absolute;\n\n    right: 0;\n    width: 33vw;\n\n    z-index: 4;\n    background-color: black;\n    position: absolute;\n    color: #1f9bcf;\n    font-weight: 600;\n    visibility: ",";\n    @media only screen and (max-width: 700px) {\n        width: 90%;\n        right: unset;\n        bottom: unset;\n        left: 5%;\n        top: 45px;\n        visibility: ",";\n    }\n"]);return M=function(){return n},n}function P(){var n=Object(h.a)(["\n    width: 100%;\n    height: 50px;\n"]);return P=function(){return n},n}function z(){var n=Object(h.a)(["\n    height: 70%;\n    height: 60vh;\n    border-style: solid;\n    overflow: auto;\n    padding: 10px 0 0 5px;\n    line-height: 0.75;\n    ::-webkit-scrollbar {\n        width: 10px;\n    }\n    ::-webkit-scrollbar-track {\n        box-shadow: inset 0 0 5px grey;\n        background: #222;\n    }\n    ::-webkit-scrollbar-thumb {\n        background-image: linear-gradient(to right, #222, hsl(272, 36%, 63%));\n        border-radius: 50px;\n        width: 5px;\n    }\n    ::-webkit-scrollbar-thumb:hover {\n        background: #555;\n    }\n"]);return z=function(){return n},n}var W=b.a.div(z()),_=b.a.input(P()),B=b.a.div(M(),(function(n){return n.fullScreen||"hidden"}),(function(n){return n.visible||"hidden"})),D=b.a.svg(J(),(function(n){return n.radius||50}),(function(n){return n.top}),(function(n){return n.visible||"hidden"})),H=function(n){var e=n.client,t=n.username,a=Object(i.useState)(!1),c=Object(l.a)(a,2),o=c[0],s=c[1],u=Object(d.c)((function(n){return n.chatlog})),h=Object(d.c)((function(n){return n.loggedIn}));console.log(h);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(D,{onClick:function(){s((function(n){return!n}))},top:0,visible:h&&"visible"}),Object(r.jsxs)(B,{fullScreen:h?"visible":"hidden",visible:o&&h?"visible":"hidden",children:[Object(r.jsx)(W,{children:u.split("\n").map((function(n,e){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("p",{style:{marginBlockEnd:e%2+"rem"},children:[n," "]})})}))}),Object(r.jsx)(_,{onKeyPress:function(n){var r;"Enter"===n.key&&(r=n.target.value,e.send(JSON.stringify({type:"CHAT",data:{username:t,message:r}})),n.target.value="")},placeholder:"Chat"})]})]})};setInterval((function(){fetch("/keepAlive")}),6e4);var K=window.location.href;function Y(){var n=Object(d.c)((function(n){return n.gameState})),e=Object(d.c)((function(n){return n.username})),t=Object(i.useState)(!1),a=Object(l.a)(t,2),c=(a[0],a[1]),o=Object(i.useState)(""),s=Object(l.a)(o,2),u=s[0],h=s[1],b=Object(d.b)();var p=Object(i.useState)(new I(K,(function(n){var e,t,r=JSON.parse(n.data);switch(r.type){case"CHAT":b((t=r.data,function(){var n=Object(F.a)(U.a.mark((function n(e){return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e({type:"CHAT",payload:t});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));break;case"RESET":b(R(r.data));break;case"LOGIN":b(function(n){return function(){var e=Object(F.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"LOGIN",payload:n});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}(r.data));break;case"GUESS":b((e=r.data,function(){var n=Object(F.a)(U.a.mark((function n(t){return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t({type:"GUESS",payload:e});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())).then((function(){g()}));break;case"GAME_STATE":b(R(r.data));break;case"LOGOUT":b(function(n){return function(e){e({type:"LOGOUT",payload:n})}}(r.data));break;case"START":b(function(n){return function(){var e=Object(F.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"START",payload:n});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}(r.data))}}))),f=Object(l.a)(p,2),x=f[0];f[1];Object(i.useEffect)((function(){x.connect()}),[x]);var m=function(){x.send(JSON.stringify({type:"LOGIN",data:e}))},j=Object(d.c)((function(n){return n.loggedIn})),g=function(){x.send(JSON.stringify({type:"GAME_STATE",data:n}))},O=function(){x.send(JSON.stringify({type:"GUESS",data:{username:e,guess:u}}))};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(H,{client:x,username:e}),j?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(E.Title,{onClick:function(){c(!1)}}),Object(r.jsxs)(E.Logout,{onClick:function(){c(!1)},children:[Object(r.jsx)("button",{className:"btn btn-danger",onClick:function(){x.send(JSON.stringify({type:"LOGOUT",data:e}))},children:"Leave"}),Object(r.jsx)("button",{className:"btn btn-success",onClick:function(){x.send(JSON.stringify({type:"START"}))},children:"Join Game"}),Object(r.jsx)("button",{className:"btn btn-success",onClick:function(){x.send(JSON.stringify({type:"RESET"}))},children:"Reset All"})]}),Object(r.jsxs)(E.Main,{onClick:function(){c(!1)},children:[Object(r.jsxs)(E.Game,{children:[Object(r.jsxs)(E.CurrentWord,{children:["Current Word: ",n.currentWord,Object(r.jsx)("br",{}),"On Turn:",n.players&&n.players[n.playerOnTurn]?n.players[n.playerOnTurn].name:""]}),Object(r.jsx)(E.GuessInput,{onKeyUp:function(n){"Enter"===n.key&&(O(),n.target.value="")},onChange:function(n){h(n.target.value)},placeholder:n.players&&n.players[n.playerOnTurn]?n.players[n.playerOnTurn].name===e?"Your turn.  Enter Guess":n.players[n.playerOnTurn].name+"'s turn.  Please Wait":""}),Object(r.jsx)(E.GuessButton,{onClick:function(){O()},className:"btn btn-info",children:"Guess"}),Object(r.jsx)("h3",{id:"message",children:n.message||""})]}),Object(r.jsx)(E.RightPanel,{children:Object(r.jsxs)(E.GuessDiv,{children:[Object(r.jsx)("h3",{style:{marginRight:"20px"},children:"Guessed words"}),Object(r.jsx)("table",{children:Object(r.jsx)(E.Guessed,{children:n.guessed?n.guessed.map((function(n){return Object(r.jsx)("tr",{children:Object(r.jsx)("td",{children:n})})})):Object(r.jsx)(r.Fragment,{})})})]})}),Object(r.jsxs)(E.PlayersDiv,{children:[Object(r.jsx)("h3",{children:"Players logged in"}),Object(r.jsxs)("table",{className:"table table-striped",children:[Object(r.jsxs)("thead",{children:[Object(r.jsx)("tr",{children:Object(r.jsx)("td",{children:"Name"})}),n.players?n.players.map((function(n){return Object(r.jsx)("tr",{children:Object(r.jsx)("td",{children:n.name})})})):Object(r.jsx)(r.Fragment,{})]}),Object(r.jsx)("tbody",{id:"players"})]})]})]})]}):Object(r.jsxs)(E.Login,{children:[Object(r.jsx)(E.NameInput,{onKeyUp:function(n){"Enter"===n.key&&m()},onChange:function(n){b(function(n){return function(){var e=Object(F.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"USERNAME",payload:n});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}(n.target.value))},type:"text"}),Object(r.jsx)("button",{className:"btn btn-info",onClick:function(){m()},children:"Login"})]})]})}K=(K=K.replace("http","ws")).replace("3000","5002");var q=function(){return Object(r.jsx)(r.Fragment,{children:" "})};var Q=function(){return Object(r.jsx)(s.a,{children:Object(r.jsxs)(u.c,{children:[Object(r.jsx)(u.a,{path:"/",exact:!0,component:Y}),Object(r.jsx)(u.a,{path:"/deadend",exact:!0,component:Y}),Object(r.jsx)(u.a,{path:"/anagrams",exact:!0,component:q})]})})},V=t(17),X=t(34),Z={message:"",username:"",user:{},chatlog:"",gameState:{numPlayers:0,playerOnTurn:0,currentWord:"",guessed:[],players:[],fails:[],message:""},loggedIn:!1},$=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,e=arguments.length>1?arguments[1]:void 0,t=Object(X.a)({},n);switch(e.type){case"USERNAME":return t.username=e.payload,t;case"CHAT":return t.chatlog=e.payload,t;case"START":return t.gameState=e.payload,t;case"LOGIN":return t.username===e.payload&&(t.user={name:e.payload},t.loggedIn=!0),t;case"LOGOUT":return e.payload===t.username&&(t.user={},t.username="",t.loggedIn=!1,t.message=""),t;case"GUESS":return t.message=e.payload,t;case"GET_GAME_STATE":return t.gameState=e.payload,0===e.payload.numPlayers&&(t.loggedIn=!1,t.message="",t.user={}),t;default:return t}},nn=t(33),en=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,54)).then((function(e){var t=e.getCLS,r=e.getFID,i=e.getFCP,a=e.getLCP,c=e.getTTFB;t(n),r(n),i(n),a(n),c(n)}))},tn=Object(V.c)($,Object(V.a)(nn.a));o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(d.a,{store:tn,children:Object(r.jsx)(Q,{})})}),document.getElementById("root")),en()}},[[53,1,2]]]);
//# sourceMappingURL=main.ce45c8d6.chunk.js.map