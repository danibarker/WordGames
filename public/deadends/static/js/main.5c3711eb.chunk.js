(this.webpackJsonpgames=this.webpackJsonpgames||[]).push([[0],{28:function(n,e,t){},29:function(n,e,t){},38:function(n,e,t){"use strict";t.r(e);var r=t(1),i=t(0),a=t.n(i),c=t(11),s=t.n(c),o=(t(28),t(29),t(4)),u=t(9),d=t(2),l=t(3);function h(){var n=Object(d.a)([""]);return h=function(){return n},n}function b(){var n=Object(d.a)(["\n        @media only screen and (min-width: 701px) {\n            position: absolute;\n            text-align: center;\n            width: 100%;\n            h1 {\n                font-size: 100px;\n            }\n        }\n        @media only screen and (max-width: 700px) {\n            position: absolute;\n        }\n    "]);return b=function(){return n},n}function p(){var n=Object(d.a)(["\n        @media only screen and (min-width: 701px) {\n            padding-left: 10px;\n            height: 50px;\n            font-size: 20px;\n            width: 90%;\n        }\n        @media only screen and (max-width: 700px) {\n            height: 50px;\n            width: 100%;\n        }\n    "]);return p=function(){return n},n}function f(){var n=Object(d.a)(["\n        @media only screen and (max-height: 450px) {\n            position: absolute;\n            top: -1000px;\n            width: 100%;\n        }\n        @media only screen and (min-width: 701px) {\n            margin: 10px 0 10px 0;\n            width:90%;\n        }\n        @media only screen and (max-width: 700px) {\n            height: 50px;\n            margin-bottom: 20px;\n            width:100%;\n        }\n    "]);return f=function(){return n},n}function m(){var n=Object(d.a)(["\n        @media only screen and (min-width: 701px) {\n            height: 50px;\n            font-size: 15px;\n        }\n    "]);return m=function(){return n},n}function x(){var n=Object(d.a)([""]);return x=function(){return n},n}function g(){var n=Object(d.a)(["\n        max-height: 100%;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n\n        @media only screen and (min-width: 701px) {\n            width:25vw;\n            margin-left: 20px;\n            margin-right: 20px;\n        }\n        @media only screen and (max-width: 700px) {\n            width: 100%;\n            height: 30vh;\n            text-align: center;\n            display: unset;\n        }\n    "]);return g=function(){return n},n}function j(){var n=Object(d.a)(["\n        \n        @media only screen and (min-width: 701px) {\n            width:35vw;\n            margin-left: 20px;\n            margin-right: 20px;\n        }\n        @media only screen and (max-width: 700px) {\n            width: 100%;\n            height: 40vh;\n            min-height: 100px;\n            text-align: center;\n        }\n    "]);return j=function(){return n},n}function y(){var n=Object(d.a)(["\n        top: 40vh;\n        width: 100%;\n        z-index: 3;\n        position: absolute;\n        height: 100%;\n        text-align: center;\n\n        @media only screen and (max-width: 700px) {\n            input {\n                width: 100%;\n                height: 50px;\n            }\n            button {\n                width: 100%;\n                height: 50px;\n            }\n        }\n    "]);return y=function(){return n},n}function O(){var n=Object(d.a)(["\n        z-index: 3;\n        position: absolute;\n        bottom: 20px;\n        left: 20px;\n\n   \n        @media only screen and (max-width: 700px) {\n            bottom: 0%;\n            button {\n                height: 50px;\n                margin-bottom: 5px;\n            }\n        }\n    "]);return O=function(){return n},n}function v(){var n=Object(d.a)(["\n        display: flex;\n        height: 100%;\n\n        @media only screen and (max-width: 700px) {\n            display: flex;\n            justify-content: space-between;\n            height: 100%;\n            width: 100%;\n\n            flex-direction: column;\n        }\n    "]);return v=function(){return n},n}function w(){var n=Object(d.a)([""]);return w=function(){return n},n}function k(){var n=Object(d.a)(["\n        height: 90%;\n        overflow-y: auto;\n        ::-webkit-scrollbar {\n            width: 10px;\n        }\n        ::-webkit-scrollbar-track {\n            box-shadow: inset 0 0 5px grey;\n            background: #222;\n        }\n        ::-webkit-scrollbar-thumb {\n            background-image: linear-gradient(\n                to right,\n                #222,\n                hsl(272, 36%, 63%)\n            );\n            border-radius: 50px;\n            width: 5px;\n        }\n        ::-webkit-scrollbar-thumb:hover {\n            background: #555;\n        }\n        @media only screen and (max-width: 700px) {\n            height: 100%;\n            overflow-y: auto;\n        }\n        @media only screen and (min-width: 700px) {\n            \n            width:25vw;\n            overflow-y: auto;\n        }\n    "]);return k=function(){return n},n}function S(){var n=Object(d.a)(["\n        margin-bottom:100px;\n        @media only screen and (max-height: 600px) {\n            position: absolute;\n            top: -1000px;\n        }\n        @media only screen and (min-width: 701px) {\n            width:30vw;\n            margin-left: 20px;\n            margin-right: 20px;\n        }\n        @media only screen and (max-width: 700px) {\n            \n            text-align: center;\n            width: 100%;\n            height: 15vh;\n            overflow-y: auto;\n\n            &::-webkit-scrollbar {\n                width: 12px;\n            }\n\n            &::-webkit-scrollbar-track {\n                -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n                box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n                border-radius: 10px;\n            }\n\n            &::-webkit-scrollbar-thumb {\n                border-radius: 10px;\n                -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.5);\n                box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.5);\n            }\n        }\n    "]);return S=function(){return n},n}var T={PlayersDiv:l.a.div(S()),GuessDiv:l.a.div(k()),CurrentWord:l.a.h3(w()),Main:l.a.div(v()),Logout:l.a.div(O()),Login:l.a.div(y()),Game:l.a.div(j()),RightPanel:l.a.div(g()),OnTurn:l.a.div(x()),NameInput:l.a.input(m()),GuessButton:l.a.button(f()),GuessInput:l.a.input(p()),Title:l.a.div(b()),Guessed:l.a.tbody(h())},E=t(14),G=t(15),A=function(){function n(e,t){Object(E.a)(this,n),this.callback=e,this.timerCalc=t,this.timer=null,this.tries=0}return Object(G.a)(n,[{key:"reset",value:function(){this.tries=0,clearTimeout(this.timer)}},{key:"scheduleTimeout",value:function(){var n=this;clearTimeout(this.timer),this.timer=setTimeout((function(){n.tries=n.tries+1,n.callback()}),this.timerCalc(this.tries+1))}}]),n}(),C=function(){function n(e,t){var r=this;Object(E.a)(this,n),this.customSocket=null,this.socketUrl=e,this.reconnectTimer=new A((function(){r.disconnect(),r.connect()}),this.reconnectAfterMs),this.messageFunction=t}return Object(G.a)(n,[{key:"reconnectAfterMs",value:function(n){return[1e3,2e3,5e3,1e4][n-1]||1e4}},{key:"connect",value:function(){var n=this;this.customSocket=new WebSocket(this.socketUrl),this.customSocket.onopen=function(e){console.log("connected to "+n.socketUrl)},this.customSocket.onclose=function(e){n.reconnectTimer.scheduleTimeout()},this.customSocket.onerror=function(n){},this.customSocket.onmessage=this.messageFunction}},{key:"disconnect",value:function(){this.customSocket.onclose=function(){},this.customSocket.close()}},{key:"send",value:function(n){this.customSocket.send(n)}}]),n}(),N=t(5),M=t.n(N),I=t(6),L=function(){return function(){var n=Object(I.a)(M.a.mark((function n(e){return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e({type:"READ_MESSAGES"});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},U=function(n){return function(){var e=Object(I.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"GET_GAME_STATE",payload:n});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()};function R(){var n=Object(d.a)(["\n    border-radius: ","%;\n    width: 45px;\n    height: 45px;\n    position: absolute;\n    border-style: solid;\n    z-index: 5;\n    right: 0;\n    border-color: ",";\n    top: ","%;\n    visibility: ",";\n    @media only screen and (min-width: 700px) {\n        visibility: hidden;\n    }\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return R=function(){return n},n}function F(){var n=Object(d.a)(["\n    bottom: 0;\n\n    position: absolute;\n\n    right: 0;\n    width: 33vw;\n\n    z-index: 4;\n    background-color: black;\n    position: absolute;\n    color: #1f9bcf;\n    font-weight: 600;\n    visibility: ",";\n    @media only screen and (max-width: 700px) {\n        width: 90%;\n        right: unset;\n        bottom: unset;\n        left: 5%;\n        top: 45px;\n        visibility: ",";\n    }\n"]);return F=function(){return n},n}function J(){var n=Object(d.a)(["\n    width: 100%;\n    height: 50px;\n"]);return J=function(){return n},n}function P(){var n=Object(d.a)(["\n    height: 70%;\n    height: 60vh;\n    border-style: solid;\n    overflow: auto;\n    padding: 10px 0 0 5px;\n    line-height: 0.75;\n    ::-webkit-scrollbar {\n        width: 10px;\n    }\n    ::-webkit-scrollbar-track {\n        box-shadow: inset 0 0 5px grey;\n        background: #222;\n    }\n    ::-webkit-scrollbar-thumb {\n        background-image: linear-gradient(to right, #222, hsl(272, 36%, 63%));\n        border-radius: 50px;\n        width: 5px;\n    }\n    ::-webkit-scrollbar-thumb:hover {\n        background: #555;\n    }\n"]);return P=function(){return n},n}function z(){var n=Object(d.a)(["\n    background-color: rgba(0, 0, 0, 0);\n    color: red;\n    font-size: 25px;\n    margin: 0;\n    cursor: pointer;\n    visibility: ",";\n    /* @media only screen and (min-width: 700px) {\n        visibility: hidden;\n    } */\n"]);return z=function(){return n},n}var _=l.a.div(z(),(function(n){return n.chatOpen})),D=l.a.div(P()),W=l.a.input(J()),B=l.a.div(F(),(function(n){return n.fullScreen||"hidden"}),(function(n){return n.visible||"hidden"})),H=l.a.div(R(),(function(n){return n.radius||50}),(function(n){return n.newMessages}),(function(n){return n.top}),(function(n){return n.visible||"hidden"})),K=function(n){var e=n.readMessages,t=n.client,a=n.username,c=Object(i.useState)(!1),s=Object(u.a)(c,2),d=s[0],l=s[1],h=Object(o.c)((function(n){return n.chatlog})),b=Object(o.c)((function(n){return n.loggedIn})),p=Object(o.c)((function(n){return n.newMessages})),f=Object(o.b)();console.log(p);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(H,{onClick:function(){l((function(n){return!n})),f(e())},top:0,newMessages:!d&&p?"red":"inherit",visible:b&&"visible",children:Object(r.jsx)(_,{chatOpen:d?"hidden":"visible",children:p>0?p:""})}),Object(r.jsxs)(B,{fullScreen:b?"visible":"hidden",visible:d&&b?"visible":"hidden",children:[Object(r.jsx)(D,{children:h.split("\n").map((function(n,e){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("p",{style:{marginBlockEnd:e%2+"rem"},children:[n," "]})})}))}),Object(r.jsx)(W,{onKeyPress:function(n){var e;"Enter"===n.key&&(e=n.target.value,t.send(JSON.stringify({type:"CHAT",data:{username:a,message:e}})),n.target.value="")},placeholder:"Chat"})]})]})};setInterval((function(){fetch("/keepAlive")}),6e4);var Y=window.location.href;function q(){var n=Object(o.c)((function(n){return n.gameState})),e=Object(o.c)((function(n){return n.username})),t=Object(i.useState)(!1),a=Object(u.a)(t,2),c=(a[0],a[1]),s=Object(i.useState)(""),d=Object(u.a)(s,2),l=d[0],h=d[1],b=Object(o.b)();var p=Object(i.useState)(new C(Y,(function(n){var e,t,r=JSON.parse(n.data);switch(r.type){case"CHAT":b((t=r.data,function(){var n=Object(I.a)(M.a.mark((function n(e){return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e({type:"CHAT",payload:t});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));break;case"RESET":b(U(r.data));break;case"LOGIN":b(function(n){return function(){var e=Object(I.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"LOGIN",payload:n});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}(r.data));break;case"GUESS":b((e=r.data,function(){var n=Object(I.a)(M.a.mark((function n(t){return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t({type:"GUESS",payload:e});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())).then((function(){j()}));break;case"GAME_STATE":b(U(r.data));break;case"LOGOUT":b(function(n){return function(e){e({type:"LOGOUT",payload:n})}}(r.data));break;case"START":b(function(n){return function(){var e=Object(I.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"START",payload:n});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}(r.data))}}))),f=Object(u.a)(p,2),m=f[0];f[1];Object(i.useEffect)((function(){m.connect()}),[m]);var x=function(){m.send(JSON.stringify({type:"LOGIN",data:e}))},g=Object(o.c)((function(n){return n.loggedIn})),j=function(){m.send(JSON.stringify({type:"GAME_STATE",data:n}))},y=function(){m.send(JSON.stringify({type:"GUESS",data:{username:e,guess:l}}))};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(K,{readMessages:L,client:m,username:e}),g?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(T.Title,{onClick:function(){c(!1)}}),Object(r.jsxs)(T.Logout,{onClick:function(){c(!1)},children:[Object(r.jsx)("button",{className:"btn btn-danger",onClick:function(){m.send(JSON.stringify({type:"LOGOUT",data:e}))},children:"Leave"}),Object(r.jsx)("button",{className:"btn btn-success",onClick:function(){m.send(JSON.stringify({type:"START"}))},children:"Join Game"}),Object(r.jsx)("button",{className:"btn btn-success",onClick:function(){m.send(JSON.stringify({type:"RESET"}))},children:"Reset All"})]}),Object(r.jsxs)(T.Main,{onClick:function(){c(!1)},children:[Object(r.jsxs)(T.Game,{children:[Object(r.jsxs)(T.CurrentWord,{children:["Current Word: ",n.currentWord,Object(r.jsx)("br",{}),"On Turn:",n.players&&n.players[n.playerOnTurn]?n.players[n.playerOnTurn].name:""]}),Object(r.jsx)(T.GuessInput,{onKeyUp:function(n){"Enter"===n.key&&(y(),n.target.value="")},onChange:function(n){h(n.target.value)},placeholder:n.players&&n.players[n.playerOnTurn]?n.players[n.playerOnTurn].name===e?"Your turn.  Enter Guess":n.players[n.playerOnTurn].name+"'s turn.  Please Wait":""}),Object(r.jsx)(T.GuessButton,{onClick:function(){y()},className:"btn btn-info",children:"Guess"}),Object(r.jsx)("h3",{id:"message",children:n.message||""})]}),Object(r.jsx)(T.RightPanel,{children:Object(r.jsxs)(T.GuessDiv,{children:[Object(r.jsx)("h3",{style:{marginRight:"20px"},children:"Guessed words"}),Object(r.jsx)("table",{children:Object(r.jsx)(T.Guessed,{children:n.guessed?n.guessed.map((function(n){return Object(r.jsx)("tr",{children:Object(r.jsx)("td",{children:n})})})):Object(r.jsx)(r.Fragment,{})})})]})}),Object(r.jsxs)(T.PlayersDiv,{children:[Object(r.jsx)("h3",{children:"Players logged in"}),Object(r.jsxs)("table",{className:"table table-striped",children:[Object(r.jsxs)("thead",{children:[Object(r.jsx)("tr",{children:Object(r.jsx)("td",{children:"Name"})}),n.players?n.players.map((function(n){return Object(r.jsx)("tr",{children:Object(r.jsx)("td",{children:n.name})})})):Object(r.jsx)(r.Fragment,{})]}),Object(r.jsx)("tbody",{id:"players"})]})]})]})]}):Object(r.jsxs)(T.Login,{children:[Object(r.jsx)(T.NameInput,{onKeyUp:function(n){"Enter"===n.key&&x()},onChange:function(n){b(function(n){return function(){var e=Object(I.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"USERNAME",payload:n});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}(n.target.value))},type:"text"}),Object(r.jsx)("button",{className:"btn btn-info",onClick:function(){x()},children:"Login"})]})]})}Y=(Y=(Y=Y.replace("http","ws")).replace("/deadends","")).replace("3000","5002");var Q=function(){return Object(r.jsx)(q,{})},V=t(10),X=t(22),Z={newMessages:0,message:"",username:"",user:{},chatlog:"",gameState:{numPlayers:0,playerOnTurn:0,currentWord:"",guessed:[],players:[],fails:[],message:""},loggedIn:!1},$=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,e=arguments.length>1?arguments[1]:void 0,t=Object(X.a)({},n);switch(e.type){case"READ_MESSAGES":return t.newMessages=0,t;case"USERNAME":return t.username=e.payload,t;case"CHAT":return t.chatlog=e.payload,t.newMessages+=1,t;case"START":return t.gameState=e.payload,t;case"LOGIN":return t.username===e.payload&&(t.user={name:e.payload},t.loggedIn=!0),t;case"LOGOUT":return e.payload===t.username&&(t.user={},t.username="",t.loggedIn=!1,t.message=""),t;case"GUESS":return t.message=e.payload,t;case"GET_GAME_STATE":return t.gameState=e.payload,0===e.payload.numPlayers&&(t.loggedIn=!1,t.message="",t.user={}),t;default:return t}},nn=t(21),en=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,40)).then((function(e){var t=e.getCLS,r=e.getFID,i=e.getFCP,a=e.getLCP,c=e.getTTFB;t(n),r(n),i(n),a(n),c(n)}))},tn=Object(V.c)($,Object(V.a)(nn.a));s.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(o.a,{store:tn,children:Object(r.jsx)(Q,{})})}),document.getElementById("root")),en()}},[[38,1,2]]]);
//# sourceMappingURL=main.5c3711eb.chunk.js.map