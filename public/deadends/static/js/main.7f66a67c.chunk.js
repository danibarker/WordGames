(this.webpackJsonpgames=this.webpackJsonpgames||[]).push([[0],{40:function(n,e,t){},41:function(n,e,t){},53:function(n,e,t){"use strict";t.r(e);var r=t(1),i=t(0),a=t.n(i),c=t(18),s=t.n(c),o=(t(40),t(32)),u=t(3),d=(t(41),t(6)),l=t(16),h=t(4),b=t(5);function p(){var n=Object(h.a)([""]);return p=function(){return n},n}function f(){var n=Object(h.a)(["\n        @media only screen and (min-width: 701px) {\n            position: absolute;\n            text-align: center;\n            width: 100%;\n            h1 {\n                font-size: 100px;\n            }\n        }\n        @media only screen and (max-width: 700px) {\n            position: absolute;\n        }\n    "]);return f=function(){return n},n}function x(){var n=Object(h.a)(["\n        @media only screen and (min-width: 701px) {\n            padding-left: 10px;\n            height: 50px;\n            font-size: 20px;\n            width: 90%;\n        }\n        @media only screen and (max-width: 700px) {\n            height: 50px;\n            width: 100%;\n        }\n    "]);return x=function(){return n},n}function m(){var n=Object(h.a)(["\n        @media only screen and (max-height: 450px) {\n            position: absolute;\n            top: -1000px;\n            width: 100%;\n        }\n        @media only screen and (min-width: 701px) {\n            margin: 10px 0 10px 0;\n            width:90%;\n        }\n        @media only screen and (max-width: 700px) {\n            height: 50px;\n            margin-bottom: 20px;\n            width:100%;\n        }\n    "]);return m=function(){return n},n}function g(){var n=Object(h.a)(["\n        @media only screen and (min-width: 701px) {\n            height: 50px;\n            font-size: 15px;\n        }\n    "]);return g=function(){return n},n}function j(){var n=Object(h.a)([""]);return j=function(){return n},n}function O(){var n=Object(h.a)(["\n        max-height: 100%;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n\n        @media only screen and (min-width: 701px) {\n            width:25vw;\n            margin-left: 20px;\n            margin-right: 20px;\n        }\n        @media only screen and (max-width: 700px) {\n            width: 100%;\n            height: 30vh;\n            text-align: center;\n            display: unset;\n        }\n    "]);return O=function(){return n},n}function y(){var n=Object(h.a)(["\n        \n        @media only screen and (min-width: 701px) {\n            width:35vw;\n            margin-left: 20px;\n            margin-right: 20px;\n        }\n        @media only screen and (max-width: 700px) {\n            width: 100%;\n            height: 40vh;\n            min-height: 100px;\n            text-align: center;\n        }\n    "]);return y=function(){return n},n}function v(){var n=Object(h.a)(["\n        top: 40vh;\n        width: 100%;\n        z-index: 3;\n        position: absolute;\n        height: 100%;\n        text-align: center;\n\n        @media only screen and (max-width: 700px) {\n            input {\n                width: 100%;\n                height: 50px;\n            }\n            button {\n                width: 100%;\n                height: 50px;\n            }\n        }\n    "]);return v=function(){return n},n}function w(){var n=Object(h.a)(["\n        z-index: 3;\n        position: absolute;\n        bottom: 20px;\n        left: 20px;\n\n   \n        @media only screen and (max-width: 700px) {\n            bottom: 0%;\n            button {\n                height: 50px;\n                margin-bottom: 5px;\n            }\n        }\n    "]);return w=function(){return n},n}function k(){var n=Object(h.a)(["\n        display: flex;\n        height: 100%;\n\n        @media only screen and (max-width: 700px) {\n            display: flex;\n            justify-content: space-between;\n            height: 100%;\n            width: 100%;\n\n            flex-direction: column;\n        }\n    "]);return k=function(){return n},n}function S(){var n=Object(h.a)([""]);return S=function(){return n},n}function T(){var n=Object(h.a)(["\n        height: 90%;\n        overflow-y: auto;\n        ::-webkit-scrollbar {\n            width: 10px;\n        }\n        ::-webkit-scrollbar-track {\n            box-shadow: inset 0 0 5px grey;\n            background: #222;\n        }\n        ::-webkit-scrollbar-thumb {\n            background-image: linear-gradient(\n                to right,\n                #222,\n                hsl(272, 36%, 63%)\n            );\n            border-radius: 50px;\n            width: 5px;\n        }\n        ::-webkit-scrollbar-thumb:hover {\n            background: #555;\n        }\n        @media only screen and (max-width: 700px) {\n            height: 100%;\n            overflow-y: auto;\n        }\n        @media only screen and (min-width: 700px) {\n            \n            width:25vw;\n            overflow-y: auto;\n        }\n    "]);return T=function(){return n},n}function E(){var n=Object(h.a)(["\n        margin-bottom:100px;\n        @media only screen and (max-height: 600px) {\n            position: absolute;\n            top: -1000px;\n        }\n        @media only screen and (min-width: 701px) {\n            width:30vw;\n            margin-left: 20px;\n            margin-right: 20px;\n        }\n        @media only screen and (max-width: 700px) {\n            \n            text-align: center;\n            width: 100%;\n            height: 15vh;\n            overflow-y: auto;\n\n            &::-webkit-scrollbar {\n                width: 12px;\n            }\n\n            &::-webkit-scrollbar-track {\n                -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n                box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n                border-radius: 10px;\n            }\n\n            &::-webkit-scrollbar-thumb {\n                border-radius: 10px;\n                -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.5);\n                box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.5);\n            }\n        }\n    "]);return E=function(){return n},n}var G={PlayersDiv:b.a.div(E()),GuessDiv:b.a.div(T()),CurrentWord:b.a.h3(S()),Main:b.a.div(k()),Logout:b.a.div(w()),Login:b.a.div(v()),Game:b.a.div(y()),RightPanel:b.a.div(O()),OnTurn:b.a.div(j()),NameInput:b.a.input(g()),GuessButton:b.a.button(m()),GuessInput:b.a.input(x()),Title:b.a.div(f()),Guessed:b.a.tbody(p())},A=(t(47),t(22)),C=t(23),N=function(){function n(e,t){Object(A.a)(this,n),this.callback=e,this.timerCalc=t,this.timer=null,this.tries=0}return Object(C.a)(n,[{key:"reset",value:function(){this.tries=0,clearTimeout(this.timer)}},{key:"scheduleTimeout",value:function(){var n=this;clearTimeout(this.timer),this.timer=setTimeout((function(){n.tries=n.tries+1,n.callback()}),this.timerCalc(this.tries+1))}}]),n}(),M=function(){function n(e,t){var r=this;Object(A.a)(this,n),this.customSocket=null,this.socketUrl=e,this.reconnectTimer=new N((function(){r.disconnect(),r.connect()}),this.reconnectAfterMs),this.messageFunction=t}return Object(C.a)(n,[{key:"reconnectAfterMs",value:function(n){return[1e3,2e3,5e3,1e4][n-1]||1e4}},{key:"connect",value:function(){var n=this;this.customSocket=new WebSocket(this.socketUrl),this.customSocket.onopen=function(e){console.log("connected to "+n.socketUrl)},this.customSocket.onclose=function(e){n.reconnectTimer.scheduleTimeout()},this.customSocket.onerror=function(n){},this.customSocket.onmessage=this.messageFunction}},{key:"disconnect",value:function(){this.customSocket.onclose=function(){},this.customSocket.close()}},{key:"send",value:function(n){this.customSocket.send(n)}}]),n}(),I=t(7),L=t.n(I),U=t(13),R=function(){return function(){var n=Object(U.a)(L.a.mark((function n(e){return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e({type:"READ_MESSAGES"});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},F=function(n){return function(){var e=Object(U.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"GET_GAME_STATE",payload:n});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()};function J(){var n=Object(h.a)(["\n    border-radius: ","%;\n    width: 45px;\n    height: 45px;\n    position: absolute;\n    border-style: solid;\n    z-index: 5;\n    right: 0;\n    border-color: ",";\n    top: ","%;\n    visibility: ",";\n    @media only screen and (min-width: 700px) {\n        visibility: hidden;\n    }\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return J=function(){return n},n}function P(){var n=Object(h.a)(["\n    bottom: 0;\n\n    position: absolute;\n\n    right: 0;\n    width: 33vw;\n\n    z-index: 4;\n    background-color: black;\n    position: absolute;\n    color: #1f9bcf;\n    font-weight: 600;\n    visibility: ",";\n    @media only screen and (max-width: 700px) {\n        width: 90%;\n        right: unset;\n        bottom: unset;\n        left: 5%;\n        top: 45px;\n        visibility: ",";\n    }\n"]);return P=function(){return n},n}function z(){var n=Object(h.a)(["\n    width: 100%;\n    height: 50px;\n"]);return z=function(){return n},n}function _(){var n=Object(h.a)(["\n    height: 70%;\n    height: 60vh;\n    border-style: solid;\n    overflow: auto;\n    padding: 10px 0 0 5px;\n    line-height: 0.75;\n    ::-webkit-scrollbar {\n        width: 10px;\n    }\n    ::-webkit-scrollbar-track {\n        box-shadow: inset 0 0 5px grey;\n        background: #222;\n    }\n    ::-webkit-scrollbar-thumb {\n        background-image: linear-gradient(to right, #222, hsl(272, 36%, 63%));\n        border-radius: 50px;\n        width: 5px;\n    }\n    ::-webkit-scrollbar-thumb:hover {\n        background: #555;\n    }\n"]);return _=function(){return n},n}function D(){var n=Object(h.a)(["\n    background-color: rgba(0, 0, 0, 0);\n    color: red;\n    font-size: 25px;\n    margin: 0;\n    cursor: pointer;\n    visibility: ",";\n    /* @media only screen and (min-width: 700px) {\n        visibility: hidden;\n    } */\n"]);return D=function(){return n},n}var W=b.a.div(D(),(function(n){return n.chatOpen})),B=b.a.div(_()),H=b.a.input(z()),K=b.a.div(P(),(function(n){return n.fullScreen||"hidden"}),(function(n){return n.visible||"hidden"})),Y=b.a.div(J(),(function(n){return n.radius||50}),(function(n){return n.newMessages}),(function(n){return n.top}),(function(n){return n.visible||"hidden"})),q=function(n){var e=n.readMessages,t=n.client,a=n.username,c=Object(i.useState)(!1),s=Object(l.a)(c,2),o=s[0],u=s[1],h=Object(d.c)((function(n){return n.chatlog})),b=Object(d.c)((function(n){return n.loggedIn})),p=Object(d.c)((function(n){return n.newMessages})),f=Object(d.b)();console.log(p);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Y,{onClick:function(){u((function(n){return!n})),f(e())},top:0,newMessages:!o&&p?"red":"inherit",visible:b&&"visible",children:Object(r.jsx)(W,{chatOpen:o?"hidden":"visible",children:p>0?p:""})}),Object(r.jsxs)(K,{fullScreen:b?"visible":"hidden",visible:o&&b?"visible":"hidden",children:[Object(r.jsx)(B,{children:h.split("\n").map((function(n,e){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("p",{style:{marginBlockEnd:e%2+"rem"},children:[n," "]})})}))}),Object(r.jsx)(H,{onKeyPress:function(n){var e;"Enter"===n.key&&(e=n.target.value,t.send(JSON.stringify({type:"CHAT",data:{username:a,message:e}})),n.target.value="")},placeholder:"Chat"})]})]})};setInterval((function(){fetch("/keepAlive")}),6e4);var Q=window.location.href;function V(){var n=Object(d.c)((function(n){return n.gameState})),e=Object(d.c)((function(n){return n.username})),t=Object(i.useState)(!1),a=Object(l.a)(t,2),c=(a[0],a[1]),s=Object(i.useState)(""),o=Object(l.a)(s,2),u=o[0],h=o[1],b=Object(d.b)();var p=Object(i.useState)(new M(Q,(function(n){var e,t,r=JSON.parse(n.data);switch(r.type){case"CHAT":b((t=r.data,function(){var n=Object(U.a)(L.a.mark((function n(e){return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e({type:"CHAT",payload:t});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));break;case"RESET":b(F(r.data));break;case"LOGIN":b(function(n){return function(){var e=Object(U.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"LOGIN",payload:n});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}(r.data));break;case"GUESS":b((e=r.data,function(){var n=Object(U.a)(L.a.mark((function n(t){return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t({type:"GUESS",payload:e});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())).then((function(){j()}));break;case"GAME_STATE":b(F(r.data));break;case"LOGOUT":b(function(n){return function(e){e({type:"LOGOUT",payload:n})}}(r.data));break;case"START":b(function(n){return function(){var e=Object(U.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"START",payload:n});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}(r.data))}}))),f=Object(l.a)(p,2),x=f[0];f[1];Object(i.useEffect)((function(){x.connect()}),[x]);var m=function(){x.send(JSON.stringify({type:"LOGIN",data:e}))},g=Object(d.c)((function(n){return n.loggedIn})),j=function(){x.send(JSON.stringify({type:"GAME_STATE",data:n}))},O=function(){x.send(JSON.stringify({type:"GUESS",data:{username:e,guess:u}}))};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(q,{readMessages:R,client:x,username:e}),g?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(G.Title,{onClick:function(){c(!1)}}),Object(r.jsxs)(G.Logout,{onClick:function(){c(!1)},children:[Object(r.jsx)("button",{className:"btn btn-danger",onClick:function(){x.send(JSON.stringify({type:"LOGOUT",data:e}))},children:"Leave"}),Object(r.jsx)("button",{className:"btn btn-success",onClick:function(){x.send(JSON.stringify({type:"START"}))},children:"Join Game"}),Object(r.jsx)("button",{className:"btn btn-success",onClick:function(){x.send(JSON.stringify({type:"RESET"}))},children:"Reset All"})]}),Object(r.jsxs)(G.Main,{onClick:function(){c(!1)},children:[Object(r.jsxs)(G.Game,{children:[Object(r.jsxs)(G.CurrentWord,{children:["Current Word: ",n.currentWord,Object(r.jsx)("br",{}),"On Turn:",n.players&&n.players[n.playerOnTurn]?n.players[n.playerOnTurn].name:""]}),Object(r.jsx)(G.GuessInput,{onKeyUp:function(n){"Enter"===n.key&&(O(),n.target.value="")},onChange:function(n){h(n.target.value)},placeholder:n.players&&n.players[n.playerOnTurn]?n.players[n.playerOnTurn].name===e?"Your turn.  Enter Guess":n.players[n.playerOnTurn].name+"'s turn.  Please Wait":""}),Object(r.jsx)(G.GuessButton,{onClick:function(){O()},className:"btn btn-info",children:"Guess"}),Object(r.jsx)("h3",{id:"message",children:n.message||""})]}),Object(r.jsx)(G.RightPanel,{children:Object(r.jsxs)(G.GuessDiv,{children:[Object(r.jsx)("h3",{style:{marginRight:"20px"},children:"Guessed words"}),Object(r.jsx)("table",{children:Object(r.jsx)(G.Guessed,{children:n.guessed?n.guessed.map((function(n){return Object(r.jsx)("tr",{children:Object(r.jsx)("td",{children:n})})})):Object(r.jsx)(r.Fragment,{})})})]})}),Object(r.jsxs)(G.PlayersDiv,{children:[Object(r.jsx)("h3",{children:"Players logged in"}),Object(r.jsxs)("table",{className:"table table-striped",children:[Object(r.jsxs)("thead",{children:[Object(r.jsx)("tr",{children:Object(r.jsx)("td",{children:"Name"})}),n.players?n.players.map((function(n){return Object(r.jsx)("tr",{children:Object(r.jsx)("td",{children:n.name})})})):Object(r.jsx)(r.Fragment,{})]}),Object(r.jsx)("tbody",{id:"players"})]})]})]})]}):Object(r.jsxs)(G.Login,{children:[Object(r.jsx)(G.NameInput,{onKeyUp:function(n){"Enter"===n.key&&m()},onChange:function(n){b(function(n){return function(){var e=Object(U.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"USERNAME",payload:n});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}(n.target.value))},type:"text"}),Object(r.jsx)("button",{className:"btn btn-info",onClick:function(){m()},children:"Login"})]})]})}Q=(Q=Q.replace("http","ws")).replace("3000","5002");var X=function(){return Object(r.jsx)(r.Fragment,{children:" "})};var Z=function(){return Object(r.jsx)(o.a,{children:Object(r.jsxs)(u.c,{children:[Object(r.jsx)(u.a,{path:"/",exact:!0,component:V}),Object(r.jsx)(u.a,{path:"/deadend",exact:!0,component:V}),Object(r.jsx)(u.a,{path:"/anagrams",exact:!0,component:X})]})})},$=t(17),nn=t(34),en={newMessages:0,message:"",username:"",user:{},chatlog:"",gameState:{numPlayers:0,playerOnTurn:0,currentWord:"",guessed:[],players:[],fails:[],message:""},loggedIn:!1},tn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en,e=arguments.length>1?arguments[1]:void 0,t=Object(nn.a)({},n);switch(e.type){case"READ_MESSAGES":return t.newMessages=0,t;case"USERNAME":return t.username=e.payload,t;case"CHAT":return t.chatlog=e.payload,t.newMessages+=1,t;case"START":return t.gameState=e.payload,t;case"LOGIN":return t.username===e.payload&&(t.user={name:e.payload},t.loggedIn=!0),t;case"LOGOUT":return e.payload===t.username&&(t.user={},t.username="",t.loggedIn=!1,t.message=""),t;case"GUESS":return t.message=e.payload,t;case"GET_GAME_STATE":return t.gameState=e.payload,0===e.payload.numPlayers&&(t.loggedIn=!1,t.message="",t.user={}),t;default:return t}},rn=t(33),an=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,54)).then((function(e){var t=e.getCLS,r=e.getFID,i=e.getFCP,a=e.getLCP,c=e.getTTFB;t(n),r(n),i(n),a(n),c(n)}))},cn=Object($.c)(tn,Object($.a)(rn.a));s.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(d.a,{store:cn,children:Object(r.jsx)(Z,{})})}),document.getElementById("root")),an()}},[[53,1,2]]]);
//# sourceMappingURL=main.7f66a67c.chunk.js.map